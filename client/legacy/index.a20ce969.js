import{Z as t,$ as n,a0 as e,Q as r}from"./client.b5c7c397.js";import"./index.c2f4c734.js";function s(t){return"[object Date]"===Object.prototype.toString.call(t)}function i(i){var o,a,f,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=t(i),p=u.stiffness,d=void 0===p?.15:p,v=u.damping,l=void 0===v?.8:v,m=u.precision,b=void 0===m?.01:m,g=i,h=i,j=1,w=0,y=!1;function M(t){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h=t;var p=f={};if(null==i||u.hard||x.stiffness>=1&&x.damping>=1)return y=!0,o=n(),g=t,c.set(i=h),Promise.resolve();if(u.soft){var d=!0===u.soft?.5:+u.soft;w=1/(60*d),j=0}return a||(o=n(),y=!1,a=e(function(t){if(y)return y=!1,a=null,!1;var n={inv_mass:j=Math.min(j+w,1),opts:x,settled:!0,dt:60*(t-o)/1e3},e=function t(n,e,i,o){if("number"==typeof i||s(i)){var a=o-i,f=(i-e)/(n.dt||1/60),u=(f+(n.opts.stiffness*a-n.opts.damping*f)*n.inv_mass)*n.dt;return Math.abs(u)<n.opts.precision&&Math.abs(a)<n.opts.precision?o:(n.settled=!1,s(i)?new Date(i.getTime()+u):i+u)}if(Array.isArray(i))return i.map(function(r,s){return t(n,e[s],i[s],o[s])});if("object"===r(i)){var c={};for(var p in i)c[p]=t(n,e[p],i[p],o[p]);return c}throw new Error("Cannot spring ".concat(r(i)," values"))}(n,g,i,h);return o=t,g=i,c.set(i=e),n.settled&&(a=null),!n.settled})),new Promise(function(t){a.promise.then(function(){p===f&&t()})})}var x={set:M,update:function(t,n){return M(t(h,i),n)},subscribe:c.subscribe,stiffness:d,damping:l,precision:b};return x}export{i as s};
