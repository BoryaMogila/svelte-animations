import{R as t,T as s,U as e}from"./client.8b1fb373.js";import"./index.01b194e3.js";function n(t){return"[object Date]"===Object.prototype.toString.call(t)}function r(r,o={}){const i=t(r),{stiffness:f=.15,damping:a=.8,precision:p=.01}=o;let c,u,l,m=r,d=r,b=1,g=0,h=!1;function y(t,o={}){d=t;const f=l={};if(null==r||o.hard||j.stiffness>=1&&j.damping>=1)return h=!0,c=s(),m=t,i.set(r=d),Promise.resolve();if(o.soft){const t=!0===o.soft?.5:+o.soft;g=1/(60*t),b=0}return u||(c=s(),h=!1,u=e(t=>{if(h)return h=!1,u=null,!1;const s={inv_mass:b=Math.min(b+g,1),opts:j,settled:!0,dt:60*(t-c)/1e3},e=function t(s,e,r,o){if("number"==typeof r||n(r)){const t=o-r,i=(r-e)/(s.dt||1/60),f=(i+(s.opts.stiffness*t-s.opts.damping*i)*s.inv_mass)*s.dt;return Math.abs(f)<s.opts.precision&&Math.abs(t)<s.opts.precision?o:(s.settled=!1,n(r)?new Date(r.getTime()+f):r+f)}if(Array.isArray(r))return r.map((n,i)=>t(s,e[i],r[i],o[i]));if("object"==typeof r){const n={};for(const i in r)n[i]=t(s,e[i],r[i],o[i]);return n}throw new Error(`Cannot spring ${typeof r} values`)}(s,m,r,d);return c=t,m=r,i.set(r=e),s.settled&&(u=null),!s.settled})),new Promise(t=>{u.promise.then(()=>{f===l&&t()})})}const j={set:y,update:(t,s)=>y(t(d,r),s),subscribe:i.subscribe,stiffness:f,damping:a,precision:p};return j}export{r as s};
